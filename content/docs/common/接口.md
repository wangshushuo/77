# 接口
后端提供的接口，只能通过go访问，因为前端只能访问到go不能直接访问到后端。那么就要在go上加一个接口，前端访问go的接口，go访问后端的接口。下面介绍一下实现一个go接口的步骤。

## 一、声明后端接口地址
在文件 `trek/urls/url.go` 中声明接口地址

比如这样
```go
	// 批量设置执行指标
	BudgetBatchSetIndicators := BudgetHost + "/baseapp/BudgetAccount/batchSetIndicators"
```
其中的 `BudgetHost` 是服务的地址，可以在文件的开头看到，它是根据具体的服务会有所不同的。

## 二、添加go的接口
找到文件 `trek/web/controllers/web-controllers/transparent/index.go` 

1. 在 `BeforeActivation` 方法中创建go的接口
```go
func (c *transparentController) BeforeActivation(b mvc.BeforeActivation) {
  // ...
  b.Handle(iris.MethodPost, "/BudgetAccount/batchSetIndicators", "BudgetAccountBatchSetIndicators")
  // ...
}
```
其中`b.Handle` 方法的三个参数分别是
- http method
- go接口url（前端访问的url）
- go接口的处理函数

2. 实现“处理函数”
在上面提到的`BeforeActivation`方法下面，创建一个与它同级的方法
{{< highlight go "linenos=table,hl_lines=7-12,linenostart=1" >}}
// ...
func (c *transparentController) BeforeActivation(b mvc.BeforeActivation) {
  // ...
  b.Handle(iris.MethodPost, "/BudgetAccount/batchSetIndicators", "BudgetAccountBatchSetIndicators")
  // ...
}

func (c *transparentController) BudgetAccountBatchSetIndicators() interface{} {
	return Fetch(c, context.TFetchOption{
		Method: "post",
		Url:	urls.BudgetBatchSetIndicators,
	})
}

{{< / highlight >}}

```go
func (c *transparentController) BudgetAccountBatchSetIndicators() interface{} {
	return Fetch(c, context.TFetchOption{
		Method: "post",
		Url:	urls.BudgetBatchSetIndicators,
	})
}
```